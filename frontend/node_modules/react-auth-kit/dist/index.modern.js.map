{"version":3,"file":"index.modern.js","sources":["../src/AuthContext.ts","../src/TokenObject.ts","../src/utils/actions.ts","../src/utils/reducers.ts","../src/utils/hooks.ts","../src/AuthProvider.tsx","../src/createRefresh.ts","../src/PrivateRoute.tsx","../src/hooks/useSignIn.ts","../src/hooks/useSignOut.ts","../src/hooks/useAuthUser.ts","../src/hooks/useAuthHeader.ts","../src/hooks/useIsAuthenticated.ts","../src/higherOrderComponents/withSignIn.tsx","../src/higherOrderComponents/withSignOut.tsx","../src/higherOrderComponents/withAuthUser.tsx","../src/higherOrderComponents/withAuthHeader.tsx","../src/higherOrderComponents/withIsAuthenticated.tsx","../src/index.tsx"],"sourcesContent":["/**\n * @author Arkadip Bhattacharya <in2arkadipb13@gmail.com>\n * @fileoverview Auth Context\n * @copyright Arkadip Bhattacharya 2020\n *\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as React from 'react';\nimport {AuthContextInterface} from './types';\n\nconst AuthContext = React.createContext<AuthContextInterface | null>(null);\n\nconst AuthContextConsumer = AuthContext.Consumer;\nexport {AuthContextConsumer};\nexport default AuthContext;\n","import Cookies from 'js-cookie';\nimport {AuthKitStateInterface, AuthStateUserObject} from './types';\n\n/**\n * @class TokenObject\n *\n * Stores and retrieve Token\n */\nclass TokenObject {\n  private readonly authStorageName: string;\n  private readonly stateStorageName: string;\n  private readonly authTimeStorageName: string;\n  private readonly cookieDomain?: string;\n  private readonly cookieSecure?: boolean;\n  private readonly authStorageTypeName: string;\n  private readonly authStorageType: 'cookie' | 'localstorage';\n  private readonly refreshTokenName: string | null;\n  private readonly refreshTokenTimeName: string | null;\n  private readonly isUsingRefreshToken: boolean;\n\n  /**\n   * TokenObject - Stores, retrieve and process tokens\n   *\n   * @param authStorageName - Name of the Token,\n   * which will store the Authorization Token\n   *\n   * @param authStorageType - Type of the auth Storage, `\n   * cookie` or `localstorage`\n   *\n   * @param refreshTokenName - Name of the refresh Token,\n   * if `undefined`, then no refreshToken feature is using\n   *\n   * @param cookieDomain - domain name for the Cookies,\n   * only applicable when `authStorageType` is `cookie`\n   *\n   * @param cookieSecure - cookies are secure or not,\n   * only applicable when `authStorageType` is `cookie`\n   *\n   * @constructor\n   */\n  constructor(\n      authStorageName:string,\n      authStorageType:'cookie' | 'localstorage',\n      refreshTokenName:string | null,\n      cookieDomain?:string,\n      cookieSecure?:boolean,\n  ) {\n    this.authStorageType = authStorageType;\n    this.authStorageName = authStorageName;\n    this.authTimeStorageName = `${authStorageName}_storage`;\n    this.stateStorageName = `${authStorageName}_state`;\n    this.refreshTokenName = refreshTokenName;\n    this.cookieDomain = cookieDomain;\n    this.cookieSecure = cookieSecure;\n    this.authStorageTypeName = `${this.authStorageName}_type`;\n    this.isUsingRefreshToken = !!this.refreshTokenName;\n    this.refreshTokenTimeName = this.refreshTokenName ?\n      `${this.refreshTokenName}_time` : null;\n  }\n\n  /**\n   * Get the Initial Tokens and states\n   * Called externally in `AuthProvider`\n   * when the Application is bootstrapping or refreshed\n   *\n   * If the `authStorageType` is `cookie`,\n   * get information from `initialCookieToken()` function\n   *\n   * If the `authTokenType` is `localStorage`\n   * get information from `initialLSToken()` function\n   *\n   * @returns AuthKitStateInterface\n   */\n  initialToken(): AuthKitStateInterface {\n    if (this.authStorageType === 'cookie') {\n      return this.initialCookieToken_();\n    } else {\n      return this.initialLSToken_();\n    }\n  }\n\n  /**\n   * Get the Initial Token from Cookies\n   * Called internally by `initialToken` method\n   *\n   * If the `authStorageType` is `cookie`\n   * then this function is called\n   * And returns the Tokens and states Stored in all 4 cookies\n   *\n   * @returns AuthKitStateInterface\n   */\n  initialCookieToken_(): AuthKitStateInterface {\n    const authToken = Cookies.get(this.authStorageName);\n    const authTokenType = Cookies.get(this.authStorageTypeName);\n    const authTokenTime = Cookies.get(this.authTimeStorageName);\n    const stateCookie = Cookies.get(this.stateStorageName);\n\n    const refreshToken = this.isUsingRefreshToken &&\n    this.refreshTokenName != null ? Cookies.get(this.refreshTokenName) : null;\n\n    const refreshTokenTime = this.isUsingRefreshToken &&\n    this.refreshTokenTimeName != null ?\n      Cookies.get(this.refreshTokenTimeName) : null;\n\n    return this.checkTokenExist(\n        authToken,\n        authTokenType,\n        authTokenTime,\n        stateCookie,\n        refreshToken,\n        refreshTokenTime);\n  }\n\n  /**\n   * Get the Initial Token from LocalStorage\n   * Called internally by `initialToken` method\n   *\n   * If the `authStorageType` is `localstorage`\n   * then this function is called\n   * And returns the Tokens and states Stored in all 4 cookies\n   *\n   * @returns AuthKitStateInterface\n   */\n  initialLSToken_(): AuthKitStateInterface {\n    const authToken = localStorage.getItem(this.authStorageName);\n    const authTokenType = localStorage.getItem(this.authStorageTypeName);\n    const authTokenTime = localStorage.getItem(this.authTimeStorageName);\n    const stateCookie = localStorage.getItem(this.stateStorageName);\n\n    const refreshToken = this.isUsingRefreshToken &&\n    this.refreshTokenName != null ?\n      localStorage.getItem(this.refreshTokenName) : null;\n\n    const refreshTokenTime = this.isUsingRefreshToken &&\n    this.refreshTokenTimeName != null ?\n      localStorage.getItem(this.refreshTokenTimeName) : null;\n\n    return this.checkTokenExist(\n        authToken,\n        authTokenType,\n        authTokenTime,\n        stateCookie,\n        refreshToken,\n        refreshTokenTime);\n  }\n\n  /**\n   * Check if the Initial token is valid or not,\n   * Called Internally by `initialCookieToken_()` and `initialLSToken_()`\n   *\n   * If the tokens are valid,\n   * then it response TokenObject with auth Information\n   * Else it response TokenObject with all null\n   *\n   * @param authToken\n   * @param authTokenType\n   * @param authTokenTime\n   * @param stateCookie\n   * @param refreshToken\n   * @param refreshTokenTime\n   *\n   * @returns AuthKitStateInterface\n   *\n   */\n  checkTokenExist(\n      authToken: string | null | undefined,\n      authTokenType: string | null | undefined,\n      authTokenTime: string | null | undefined,\n      stateCookie: string | null | undefined,\n      refreshToken: string | null | undefined,\n      refreshTokenTime: string | null | undefined):\n    AuthKitStateInterface {\n    if (!!authToken && !!authTokenType && !!authTokenTime && !!stateCookie) {\n      const expiresAt = new Date(authTokenTime);\n      try {\n        const authState = JSON.parse(stateCookie);\n        const obj = {\n          auth: {\n            token: authToken,\n            type: authTokenType,\n            expiresAt: expiresAt,\n          },\n          userState: authState,\n          isSignIn: true,\n          isUsingRefreshToken: this.isUsingRefreshToken,\n          refresh: undefined,\n        };\n        if (this.isUsingRefreshToken && !!refreshToken && !! refreshTokenTime) {\n          const refreshTokenExpiresAt = new Date(refreshTokenTime);\n          return {\n            ...obj,\n            refresh: {\n              token: refreshToken,\n              expiresAt: refreshTokenExpiresAt,\n            },\n          };\n        } else {\n          return {\n            ...obj,\n            refresh: null,\n          };\n        }\n      } catch (e) {\n        return {\n          auth: null,\n          refresh: null,\n          userState: null,\n          isUsingRefreshToken: this.isUsingRefreshToken,\n          isSignIn: false,\n        };\n      }\n    } else {\n      return {\n        auth: null,\n        refresh: null,\n        userState: null,\n        isUsingRefreshToken: this.isUsingRefreshToken,\n        isSignIn: false,\n      };\n    }\n  }\n\n  /**\n   * Sync Auth Tokens on time of login and logout\n   *\n   * Set the New Cookies or new Localstorage on login\n   * Or Remove the old Cookies or old Localstorage on logout\n   *\n   * @param authState\n   */\n  syncTokens(authState: AuthKitStateInterface): void {\n    if (authState.auth) {\n      if (this.isUsingRefreshToken && authState.refresh) {\n        this.setToken(\n            authState.auth.token,\n            authState.auth.type,\n            authState.refresh.token,\n            authState.refresh.expiresAt,\n            authState.auth.expiresAt,\n            authState.userState,\n        );\n      } else {\n        this.setToken(\n            authState.auth.token,\n            authState.auth.type,\n            null,\n            null,\n            authState.auth.expiresAt,\n            authState.userState,\n        );\n      }\n    } else {\n      this.removeToken();\n    }\n  }\n\n  /**\n   * Set Cookies or localstorage on login\n   *\n   * @param authToken\n   * @param authTokenType\n   * @param refreshToken\n   * @param refreshTokenExpiresAt\n   * @param expiresAt\n   * @param authState\n   */\n  setToken(\n      authToken: string,\n      authTokenType: string,\n      refreshToken: string | null,\n      refreshTokenExpiresAt: Date | null,\n      expiresAt: Date,\n      authState: AuthStateUserObject|null): void {\n    if (this.authStorageType === 'cookie') {\n      this.setCookieToken_(\n          authToken,\n          authTokenType,\n          refreshToken,\n          expiresAt,\n          refreshTokenExpiresAt,\n          authState);\n    } else {\n      this.setLSToken_(\n          authToken,\n          authTokenType,\n          refreshToken,\n          expiresAt,\n          refreshTokenExpiresAt,\n          authState);\n    }\n  }\n\n  /**\n   *\n   * Set Cookie on time of Login\n   *\n   * @param authToken\n   * @param authTokenType\n   * @param refreshToken\n   * @param expiresAt\n   * @param refreshTokenExpiresAt\n   * @param authState\n   */\n  setCookieToken_(\n      authToken: string,\n      authTokenType: string,\n      refreshToken: string | null,\n      expiresAt: Date,\n      refreshTokenExpiresAt: Date | null,\n      authState: AuthStateUserObject|null): void {\n    Cookies.set(this.authStorageName, authToken, {\n      expires: expiresAt,\n      domain: this.cookieDomain,\n      secure: this.cookieSecure,\n    });\n    Cookies.set(this.authStorageTypeName, authTokenType, {\n      expires: expiresAt,\n      domain: this.cookieDomain,\n      secure: this.cookieSecure,\n    });\n    Cookies.set(this.authTimeStorageName, expiresAt.toISOString(), {\n      expires: expiresAt,\n      domain: this.cookieDomain,\n      secure: this.cookieSecure,\n    });\n    if (authState) {\n      Cookies.set(this.stateStorageName, JSON.stringify(authState), {\n        expires: expiresAt,\n        domain: this.cookieDomain,\n        secure: this.cookieSecure,\n      });\n    }\n\n    if (this.isUsingRefreshToken && !!this.refreshTokenName &&\n      !!refreshToken) {\n      Cookies.set(this.refreshTokenName, refreshToken, {\n        expires: expiresAt,\n        domain: this.cookieDomain,\n        secure: this.cookieSecure,\n      });\n    }\n\n    if (this.isUsingRefreshToken && !!this.refreshTokenTimeName &&\n      !!refreshTokenExpiresAt) {\n      Cookies.set(this.refreshTokenTimeName,\n          refreshTokenExpiresAt.toISOString(), {\n            expires: expiresAt,\n            domain: this.cookieDomain,\n            secure: this.cookieSecure,\n          });\n    }\n  }\n\n  /**\n   * Set LocalStorage at the time of Login\n   *\n   * @param authToken\n   * @param authTokenType\n   * @param refreshToken\n   * @param expiresAt\n   * @param refreshTokenExpiresAt\n   * @param authState\n   */\n  setLSToken_(\n      authToken: string,\n      authTokenType: string,\n      refreshToken: string | null,\n      expiresAt: Date,\n      refreshTokenExpiresAt: Date | null,\n      authState: AuthStateUserObject|null): void {\n    localStorage.setItem(this.authStorageName, authToken);\n    localStorage.setItem(this.authStorageTypeName, authTokenType);\n    localStorage.setItem(this.authTimeStorageName, expiresAt.toISOString());\n    if (authState) {\n      localStorage.setItem(this.stateStorageName, JSON.stringify(authState));\n    }\n    if (this.isUsingRefreshToken && !!this.refreshTokenName &&\n      !!refreshToken) {\n      localStorage.setItem(this.refreshTokenName, refreshToken);\n    }\n    if (this.isUsingRefreshToken && !!this.refreshTokenTimeName &&\n      !!refreshTokenExpiresAt) {\n      localStorage.setItem(this.refreshTokenTimeName,\n          refreshTokenExpiresAt.toISOString());\n    }\n  }\n\n  /**\n   * Remove Tokens on time of Logout\n   */\n  removeToken(): void {\n    if (this.authStorageType === 'cookie') {\n      this.removeCookieToken_();\n    } else {\n      this.removeLSToken_();\n    }\n  }\n\n  /**\n   * Remove Token from Cookies\n   */\n  removeCookieToken_(): void {\n    Cookies.remove(this.authStorageName, {\n      domain: this.cookieDomain,\n      secure: this.cookieSecure,\n    });\n    Cookies.remove(this.authTimeStorageName, {\n      domain: this.cookieDomain,\n      secure: this.cookieSecure,\n    });\n    Cookies.remove(this.authStorageTypeName, {\n      domain: this.cookieDomain,\n      secure: this.cookieSecure,\n    });\n    Cookies.remove(this.stateStorageName, {\n      domain: this.cookieDomain,\n      secure: this.cookieSecure,\n    });\n    if (this.isUsingRefreshToken && !!this.refreshTokenName) {\n      Cookies.remove(this.refreshTokenName, {\n        domain: this.cookieDomain,\n        secure: this.cookieSecure,\n      });\n    }\n    if (this.isUsingRefreshToken && !!this.refreshTokenTimeName) {\n      Cookies.remove(this.refreshTokenTimeName, {\n        domain: this.cookieDomain,\n        secure: this.cookieSecure,\n      });\n    }\n  }\n\n  /**\n   * Remove Token from LocalStorage\n   */\n  removeLSToken_(): void {\n    localStorage.removeItem(this.authStorageName);\n    localStorage.removeItem(this.authTimeStorageName);\n    localStorage.removeItem(this.authStorageTypeName);\n    localStorage.removeItem(this.stateStorageName);\n    if (this.isUsingRefreshToken && !!this.refreshTokenName) {\n      localStorage.removeItem(this.refreshTokenName);\n    }\n    if (this.isUsingRefreshToken && !!this.refreshTokenTimeName) {\n      localStorage.removeItem(this.refreshTokenTimeName);\n    }\n  }\n}\n\nexport default TokenObject;\n","/**\n * @author Arkadip Bhattacharya <in2arkadipb13@gmail.com>\n * @fileoverview Actions for useReducer\n * @copyright Arkadip Bhattacharya 2020\n *\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {AuthStateUserObject} from '../types';\n\nexport enum ActionType {\n  SignIn,\n  SignOut,\n  RefreshToken\n}\n\nexport interface SignInActionPayload {\n  auth: {\n    token: string,\n    type: string,\n    expiresAt: Date\n  },\n  refresh: {\n    token: string,\n    expiresAt: Date\n  } | null,\n  userState: AuthStateUserObject | null,\n}\n\nexport interface RefreshTokenActionPayload {\n  newAuthToken: string | null,\n  newAuthTokenExpireIn?: number | null,\n  newRefreshToken?: string | null,\n  newRefreshTokenExpiresIn?: number | null,\n  newAuthUserState?: AuthStateUserObject | null\n}\n\nexport interface SignInAction {\n  type: ActionType.SignIn,\n  payload: SignInActionPayload\n}\n\nexport interface RefreshTokenAction {\n  type: ActionType.RefreshToken,\n  payload: RefreshTokenActionPayload\n}\n\nexport interface SignOutAction {\n  type: ActionType.SignOut;\n}\n\nexport type AuthActions = SignInAction | SignOutAction | RefreshTokenAction\n","/**\n * @author Arkadip Bhattacharya <in2arkadipb13@gmail.com>\n * @fileoverview Reducers for useReducer\n * @copyright Arkadip Bhattacharya 2020\n *\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {AuthKitStateInterface} from '../types';\nimport {\n  ActionType,\n  AuthActions,\n  SignInAction,\n  SignInActionPayload,\n  SignOutAction,\n  RefreshTokenAction,\n  RefreshTokenActionPayload,\n} from './actions';\n\n/**\n * Auth Reducer\n * Used in auth state\n * @param state\n * @param action\n */\nexport function authReducer(state: AuthKitStateInterface,\n    action: AuthActions)\n  : AuthKitStateInterface {\n  switch (action.type) {\n    case ActionType.SignIn:\n      return {\n        ...state,\n        auth: action.payload.auth,\n        refresh: action.payload.refresh,\n        userState: action.payload.userState,\n        isSignIn: true,\n      };\n    case ActionType.SignOut:\n      return {\n        ...state,\n        auth: null,\n        refresh: null,\n        userState: null,\n        isSignIn: false,\n      };\n    case ActionType.RefreshToken:\n      if (state.isSignIn && state.auth && state.refresh) {\n        return {\n          ...state,\n          auth: {\n            token: action.payload.newAuthToken ?\n              action.payload.newAuthToken : state.auth.token,\n            type: state.auth.type,\n            expiresAt: action.payload.newAuthTokenExpireIn ?\n              new Date(new Date().getTime() +\n                action.payload.newAuthTokenExpireIn * 60 * 1000) :\n              state.auth.expiresAt,\n          },\n          refresh: {\n            token: action.payload.newRefreshToken ?\n              action.payload.newRefreshToken : state.refresh.token,\n            expiresAt: action.payload.newRefreshTokenExpiresIn ?\n              new Date(new Date().getTime() +\n                action.payload.newRefreshTokenExpiresIn * 60 * 1000) :\n              state.refresh.expiresAt,\n          },\n          userState: action.payload.newAuthUserState ?\n            action.payload.newAuthUserState : state.userState,\n        };\n      } else {\n        return state;\n      }\n  }\n}\n\n// Helper functions\n/**\n * used to make sign in\n * @param signInParams\n */\nexport function doSignIn(signInParams: SignInActionPayload): SignInAction {\n  return ({\n    type: ActionType.SignIn,\n    payload: signInParams,\n  });\n}\n\n/**\n * used to refresh the Token\n * @param refreshTokenParam\n */\nexport function doRefresh(refreshTokenParam: RefreshTokenActionPayload):\n  RefreshTokenAction {\n  return ({\n    type: ActionType.RefreshToken,\n    payload: refreshTokenParam,\n  });\n}\n\n/**\n * Used to make sign out\n */\nexport function doSignOut(): SignOutAction {\n  return ({\n    type: ActionType.SignOut,\n  });\n}\n","/*\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as React from 'react';\n\n/**\n * React useInterval Hook\n * Used to integrate the power of setInterval seamlessly\n *\n * @param callback - The callback function\n * @param delay - The amount of delay in minutes.\n *\n * @returns the ref of setInterval\n */\nfunction useInterval(callback: ()=>void, delay:number|null)\n  : React.MutableRefObject<number | null> {\n  const savedCallback = React.useRef(callback);\n  const intervalRef = React.useRef<number | null>(null);\n\n  // Remember the latest callback if it changes.\n  React.useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  React.useEffect(() => {\n    const tick = () => savedCallback.current();\n\n    if (typeof delay === 'number') {\n      intervalRef.current = window.setInterval(tick, delay * 60 * 1000);\n    }\n\n    return () => {\n      if (intervalRef.current) {\n        window.clearTimeout(intervalRef.current);\n      }\n    };\n  }, [delay]);\n\n  return intervalRef;\n}\n\nexport {useInterval};\n","import * as React from 'react';\nimport AuthContext from './AuthContext';\nimport TokenObject from './TokenObject';\nimport {AuthProviderProps} from './types';\nimport {authReducer, doRefresh} from './utils/reducers';\nimport {useInterval} from './utils/hooks';\n\n\n/**\n * AuthProvider - The Authentication Context Provider\n *\n * @param children\n * @param authStorageName\n * @param cookieDomain\n * @param cookieSecure\n *\n * @return Functional Component\n */\nconst AuthProvider: React.FunctionComponent<AuthProviderProps> =\n  ({\n    children,\n    authType,\n    authName,\n    cookieDomain,\n    cookieSecure,\n    refresh,\n  }) => {\n    if (authType === 'cookie') {\n      if (!cookieDomain) {\n        throw new\n        Error('authType \\'cookie\\' ' +\n          'requires \\'cookieDomain\\' and \\'cookieSecure\\' ' +\n          'props in AuthProvider');\n      }\n    }\n\n    const refreshTokenName = refresh ? `${authName}_refresh` : null;\n\n    const tokenObject = new TokenObject(authName, authType,\n        refreshTokenName, cookieDomain, cookieSecure);\n\n    const [authState, dispatch] =\n      React.useReducer(authReducer, tokenObject.initialToken());\n\n    if (refresh) {\n      useInterval(\n          () => {\n            refresh\n              .refreshApiCallback({\n                authToken: authState.auth?.token,\n                authTokenExpireAt: authState.auth?.expiresAt,\n                authUserState: authState.userState,\n                refreshToken: authState.refresh?.token,\n                refreshTokenExpiresAt: authState.refresh?.expiresAt,\n              })\n              .then((result) => {\n                // IF the API call is successful then refresh the AUTH state\n                if (result.isSuccess) {\n                  // store the new value using the state update\n                  dispatch(doRefresh(result));\n                }\n              });\n          },\n        authState.isSignIn ? refresh.interval : null,\n      );\n    }\n\n    React.useEffect(() => {\n      tokenObject.syncTokens(authState);\n    }, [authState]);\n\n    return (\n      <AuthContext.Provider value={{authState, dispatch}}>\n        {children}\n      </AuthContext.Provider>\n    );\n  };\n\nexport default AuthProvider;\n","/*\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {createRefreshParamInterface} from './types';\n\n/**\n * This function doesn't really \"do anything\" at runtime,\n * it's just help to organize the code base\n * Use this function to create the refresh token system\n */\nfunction createRefresh(param: createRefreshParamInterface)\n  :createRefreshParamInterface {\n  return param;\n}\n\nexport default createRefresh;\n","/**\n * @author Arkadip Bhattacharya <in2arkadipb13@gmail.com>\n * @fileoverview PrivateRoute component\n * @copyright Arkadip Bhattacharya 2020\n *\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as React from 'react';\nimport {useLocation, Navigate} from 'react-router-dom';\nimport AuthContext from './AuthContext';\nimport {doSignOut} from './utils/reducers';\n\ninterface RequireAuthProps {\n  children: JSX.Element,\n  loginPath: string\n}\n\nconst RequireAuth: React.FunctionComponent<RequireAuthProps> =\n  ({children, loginPath}) => {\n    const context = React.useContext(AuthContext);\n    if (context === null) {\n      throw new\n      Error('Auth Provider is missing. ' +\n      'Please add the AuthProvider before Router');\n    }\n\n    const isAuth = () => {\n      if (context.authState.auth &&\n      (new Date(context.authState.auth.expiresAt) > new Date())) {\n        return true;\n      } else {\n        context.dispatch(doSignOut());\n        return false;\n      }\n    };\n    const location = useLocation();\n\n    if (!isAuth()) {\n    // Redirect them to the /login page, but save the current location they were\n    // trying to go to when they were redirected. This allows us to send them\n    // along to that page after they login, which is a nicer user experience\n    // than dropping them off on the home page.\n      return <Navigate to={loginPath} state={{from: location}} replace />;\n    }\n\n    return children;\n  };\n\n/**\n * Private Route for Components\n *\n * @remarks\n * This Component is based on {@link https://reactrouter.com/web/api/Route | reactrouter.Route}.\n * So you need to install react-route-dom before use it\n *\n * @param props\n */\n\nexport default RequireAuth;\n","/**\n *@author Arkadip Bhattacharya <in2arkadipb13@gmail.com>\n *@fileoverview Sign In functionality <hook>\n *@copyright Arkadip Bhattacharya 2020\n *@license Apache-2.0\n *\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as React from 'react';\nimport AuthContext from '../AuthContext';\nimport {signInFunctionParams} from '../types';\nimport {doSignIn} from '../utils/reducers';\n\n/**\n *@function\n *@name useSignIn\n *@description Authentication SignIn Hook\n *@returns - Sign In function\n */\nfunction useSignIn(): (signInConfig: signInFunctionParams) => boolean {\n  const context = React.useContext(AuthContext);\n  if (context === null) {\n    throw new\n    Error('Auth Provider is missing. ' +\n      'Please add the AuthProvider before Router');\n  }\n  return (signInConfig: signInFunctionParams): boolean => {\n    const {\n      token,\n      tokenType,\n      authState,\n      expiresIn,\n      refreshToken,\n      refreshTokenExpireIn,\n    } = signInConfig;\n    const expTime = new Date(new Date().getTime() + expiresIn * 60 * 1000);\n    if (context.authState.isUsingRefreshToken) {\n      // Using the power of refresh token\n      if (!!refreshToken && !!refreshTokenExpireIn) {\n        // refresh token params are provided\n        // sign in with refresh token\n        const refreshTokenExpireAt =\n          new Date(new Date().getTime() + refreshTokenExpireIn * 60 * 1000);\n        context.dispatch(doSignIn({\n          auth: {\n            token: token,\n            type: tokenType,\n            expiresAt: expTime,\n          },\n          userState: authState ? authState : null,\n          refresh: {\n            token: refreshToken,\n            expiresAt: refreshTokenExpireAt,\n          },\n        }));\n        return true;\n      } else {\n        // refresh token params are not provided\n        // throw an error\n        throw new Error('Make sure you given \"refreshToken\" and  ' +\n          '\"refreshTokenExpireIn\" parameter');\n      }\n    } else {\n      // Not using refresh token\n      if (!!refreshToken && !!refreshTokenExpireIn) {\n        // params are not expected but provided\n        // throw an error\n        throw new Error('The app doesn\\'t implement \\'refreshToken\\' ' +\n          'feature.\\nSo you have to implement refresh token feature ' +\n          'from \\'AuthProvider\\' before using it.');\n      } else {\n        // sign in without the refresh token\n        context.dispatch(doSignIn({\n          auth: {\n            token: token,\n            type: tokenType,\n            expiresAt: expTime,\n          },\n          userState: authState ? authState : null,\n          refresh: null,\n        }));\n        return true;\n      }\n    }\n  };\n}\n\n/**\n *@exports useSignIn\n */\nexport default useSignIn;\n","/**\n * @author Arkadip Bhattacharya <in2arkadipb13@gmail.com>\n * @fileoverview Sign Out functionality <Hook>\n * @copyright Arkadip Bhattacharya 2020\n *\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as React from 'react';\nimport AuthContext from '../AuthContext';\nimport {doSignOut} from '../utils/reducers';\n\n/**\n  *@public\n  *@function\n  *@name useSignOut\n  *@description Sign out Hook\n  */\nfunction useSignOut(): () => (boolean) {\n  /**\n   *A constant c.\n   *@kind constant\n   */\n  const context = React.useContext(AuthContext);\n  if (context === null) {\n    throw new\n    Error('Auth Provider is missing. ' +\n      'Please add the AuthProvider before Router');\n  }\n\n  return () => {\n    try {\n      if (context) {\n        context.dispatch(doSignOut());\n        return true;\n      } else {\n        return false;\n      }\n    } catch (e) {\n      return false;\n    }\n  };\n}\n/**\n  *@exports useSignOut\n  */\nexport default useSignOut;\n","/**\n * @author Arkadip Bhattacharya <in2arkadipb13@gmail.com>\n * @fileoverview Authentication User <hook>\n * @copyright Arkadip Bhattacharya 2020\n *\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as React from 'react';\nimport AuthContext from '../AuthContext';\nimport {AuthStateUserObject} from '../types';\n\n/**\n * Auth State Hook\n *\n * @returns - Auth State Function\n */\nfunction useAuthUser(): () => AuthStateUserObject | null {\n  const context = React.useContext(AuthContext);\n  if (context === null) {\n    throw new\n    Error('Auth Provider is missing. ' +\n      'Please add the AuthProvider before Router');\n  }\n  return () => {\n    return context.authState.auth ?\n      context.authState.userState : null;\n  };\n}\n\nexport default useAuthUser;\n","/**\n * @author Arkadip Bhattacharya <in2arkadipb13@gmail.com>\n * @fileoverview Authentication header <hook>\n * @copyright Arkadip Bhattacharya 2020\n *\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as React from 'react';\nimport AuthContext from '../AuthContext';\n\n/**\n *\n */\nfunction useAuthHeader(): () => (string) {\n  const c = React.useContext(AuthContext);\n  if (c === null) {\n    throw new\n    Error('Auth Provider is missing. ' +\n      'Please add the AuthProvider before Router');\n  }\n\n\n  return () => {\n    if (c.authState.auth) {\n      return `${c.authState.auth.type} ${c.authState.auth.token}`;\n    } else {\n      return ``;\n    }\n  };\n}\n\nexport default useAuthHeader;\n","/**\n * @author Arkadip Bhattacharya <in2arkadipb13@gmail.com>\n * @fileoverview Authentication status <hook>\n * @copyright Arkadip Bhattacharya 2020\n *\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as React from 'react';\nimport AuthContext from '../AuthContext';\nimport {doSignOut} from '../utils/reducers';\n\n/**\n  *@function\n  *@name useIsAuthenticated\n  *@description check weather user is authenticated or not\n  */\nfunction useIsAuthenticated(): ()=>boolean {\n  const context = React.useContext(AuthContext);\n  if (context === null) {\n    throw new\n    Error('Auth Provider is missing. ' +\n      'Please add the AuthProvider before Router');\n  }\n  return () => {\n    if (context.authState.auth) {\n      if (new Date(context.authState.auth.expiresAt) > new Date()) {\n        return true;\n      } else {\n        context.dispatch(doSignOut());\n        return false;\n      }\n    } else {\n      return false;\n    }\n  };\n}\n/**\n  *@exports useIsAuthenticated\n  */\nexport default useIsAuthenticated;\n","/**\n * @author Arkadip Bhattacharya <in2arkadipb13@gmail.com>\n * @fileoverview Sign In functionality <Higher Order Component>\n * @copyright Arkadip Bhattacharya 2020\n *\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as React from 'react';\nimport {AuthContextConsumer} from '../AuthContext';\nimport {signInFunctionParams} from '../types';\nimport {doSignIn} from '../utils/reducers';\n\n/**\n * @interface withSignInProps\n */\ninterface withSignInProps {\n    signIn(params: signInFunctionParams): boolean\n}\n\n/**\n * @public\n * @function\n * @name withSignIn\n * @description Inject sign in functionality inside the Component's Prop\n * @param Component\n */\nfunction withSignIn<P extends withSignInProps>(\n    Component: React.ComponentType<P>,\n):React.FunctionComponent<P> {\n  return (props) => {\n    return (\n      <AuthContextConsumer>\n        {(c) => {\n          if (c === null) {\n            throw new\n            Error('Auth Provider is missing. ' +\n              'Please add the AuthProvider before Router');\n          }\n          const signIn = (signInConfig: signInFunctionParams)\n            : boolean => {\n            const {\n              token,\n              tokenType,\n              authState,\n              expiresIn,\n              refreshToken,\n              refreshTokenExpireIn,\n            } = signInConfig;\n            const expTime =\n              new Date(new Date().getTime() + expiresIn * 60 * 1000);\n            if (c.authState.isUsingRefreshToken) {\n              // Using the power of refresh token\n              if (!!refreshToken && !!refreshTokenExpireIn) {\n                // refresh token params are provided\n                // sign in with refresh token\n                const refreshTokenExpireAt = new Date(new Date().getTime() +\n                  refreshTokenExpireIn * 60 * 1000);\n                c.dispatch(doSignIn({\n                  auth: {\n                    token: token,\n                    type: tokenType,\n                    expiresAt: expTime,\n                  },\n                  userState: authState ? authState : null,\n                  refresh: {\n                    token: refreshToken,\n                    expiresAt: refreshTokenExpireAt,\n                  },\n                }));\n                return true;\n              } else {\n                // refresh token params are not provided\n                // throw an error\n                throw new Error('Make sure you given \"refreshToken\" and  ' +\n                  '\"refreshTokenExpireIn\" parameter');\n              }\n            } else {\n              // Not using refresh token\n              if (!!refreshToken && !!refreshTokenExpireIn) {\n                // params are not expected but provided\n                // throw an error\n                throw new Error('The app doesn\\'t implement \\'refreshToken\\'' +\n                  ' feature.\\n So you have to implement refresh token feature' +\n                  ' from \\'AuthProvider\\' before using it.');\n              } else {\n                // sign in without the refresh token\n                c.dispatch(doSignIn({\n                  auth: {\n                    token: token,\n                    type: tokenType,\n                    expiresAt: expTime,\n                  },\n                  userState: authState ? authState : null,\n                  refresh: null,\n                }));\n                return true;\n              }\n            }\n          };\n          return <Component {...props} signIn={signIn}/>;\n        }}\n      </AuthContextConsumer>\n    );\n  };\n}\n\nexport default withSignIn;\n","/**\n * @author Arkadip Bhattacharya <in2arkadipb13@gmail.com>\n * @fileoverview Sign Out functionality <Higher Order Component>\n * @copyright Arkadip Bhattacharya 2020\n *\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as React from 'react';\nimport {AuthContextConsumer} from '../AuthContext';\nimport {doSignOut} from '../utils/reducers';\n\n/**\n * @interface withSignOutProps\n */\ninterface withSignOutProps {\n    signOut(): boolean\n}\n\n/**\n * @public\n * @function\n * @name withSignOut\n * @description Inject sign Out functionality inside the Component's Prop\n * @param Component\n */\nfunction withSignOut<P extends withSignOutProps>(\n    Component: React.ComponentType<P>,\n): React.FunctionComponent<P> {\n  return (props) => {\n    return (\n      <AuthContextConsumer>\n        {(c) => {\n          if (c === null) {\n            throw new\n            Error('Auth Provider is missing. ' +\n              'Please add the AuthProvider before Router');\n          }\n          const signOut = () => {\n            try {\n              if (c) {\n                c.dispatch(doSignOut());\n                return true;\n              } else {\n                return false;\n              }\n            } catch (e) {\n              return false;\n            }\n          };\n          return <Component {...props} signOut={signOut}/>;\n        }}\n      </AuthContextConsumer>\n    );\n  };\n}\n\nexport default withSignOut;\n","/**\n * @author Arkadip Bhattacharya <in2arkadipb13@gmail.com>\n * @fileoverview Authentication User <Higher Order Component>\n * @copyright Arkadip Bhattacharya 2020\n *\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport * as React from 'react';\nimport {AuthContextConsumer} from '../AuthContext';\nimport {AuthStateUserObject} from '../types';\n\n/**\n * @interface withAuthProps\n */\ninterface withAuthProps {\n    authState: AuthStateUserObject| null\n}\n\n/**\n * @function\n * @name withAuthUser\n * @description Inject Authenticated User's state inside the Component's Prop\n * @param Component\n */\nfunction withAuthUser<P extends withAuthProps>(\n    Component: React.ComponentType<P>,\n): React.FunctionComponent<P> {\n  return (props: P)=>{\n    return (\n      <AuthContextConsumer>\n        {(context) => {\n          if (context === null) {\n            throw new\n            Error('Auth Provider is missing. ' +\n              'Please add the AuthProvider before Router');\n          }\n          if (context.authState.auth) {\n            return (\n              <Component {...props} authState={context.authState.userState}/>\n            );\n          } else {\n            return (\n              <Component {...props} authState={null}/>\n            );\n          }\n        }}\n      </AuthContextConsumer>\n    );\n  };\n}\n/**\n * @exports withAuthUser\n */\nexport default withAuthUser;\n","/**\n * @author Arkadip Bhattacharya <in2arkadipb13@gmail.com>\n * @fileoverview Authentication header <Higher Order Component>\n * @copyright Arkadip Bhattacharya 2020\n *\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as React from 'react';\nimport {AuthContextConsumer} from '../AuthContext';\n\n/**\n * @interface withAuthHeaderProps\n */\ninterface withAuthHeaderProps {\n    authHeader: string\n}\n\n/**\n * @public\n * @function\n * @name withAuthHeader\n * @description Inject Authentication Header inside the Component's Prop\n * @param Component - React Component\n */\nfunction withAuthHeader<P extends withAuthHeaderProps>(\n    Component: React.ComponentType<P>,\n):React.FunctionComponent<P> {\n  return (props) => {\n    return (\n      <AuthContextConsumer>\n        {(c) => {\n          if (c === null) {\n            throw new\n            Error('Auth Provider is missing. ' +\n              'Please add the AuthProvider before Router');\n          }\n          if (c.authState.auth) {\n            return (\n              <Component\n                {...props}\n                authHeader={\n                  `${c.authState.auth.type} ${c.authState.auth.token}`\n                }\n              />\n            );\n          } else {\n            return <Component {...props} authHeader={``}/>;\n          }\n        }}\n      </AuthContextConsumer>\n    );\n  };\n}\n/**\n  *@exports withAuthHeader\n  */\nexport default withAuthHeader;\n","/**\n * @author Arkadip Bhattacharya <in2arkadipb13@gmail.com>\n * @fileoverview Authentication status <Higher Order Component>\n * @copyright Arkadip Bhattacharya 2020\n *\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as React from 'react';\nimport {AuthContextConsumer} from '../AuthContext';\nimport {doSignOut} from '../utils/reducers';\n\n/**\n * @interface withAuthHeaderProps\n */\ninterface withAuthHeaderProps {\n    isAuth: string\n}\n\n/**\n * @public\n * @function\n * @name withIsAuthenticated\n * @description Inject Authentication status inside the Component's Prop\n * @param Component\n */\nfunction withIsAuthenticated<P extends withAuthHeaderProps>(\n    Component: React.ComponentType<P>,\n): React.FunctionComponent<P> {\n  return (props) => {\n    return (\n      <AuthContextConsumer>\n        {(c) => {\n          if (c === null) {\n            throw new\n            Error('Auth Provider is missing. ' +\n              'Please add the AuthProvider before Router');\n          }\n          if (c.authState.auth) {\n            if (new Date(c.authState.auth.expiresAt) > new Date()) {\n              return <Component {...props} isAuth={true}/>;\n            } else {\n              c.dispatch(doSignOut());\n              return <Component {...props} isAuth={false}/>;\n            }\n          } else {\n            return <Component {...props} isAuth={false}/>;\n          }\n        }}\n      </AuthContextConsumer>\n    );\n  };\n}\n\nexport default withIsAuthenticated;\n","/*\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * last updated 25th August 2021\n */\n\nimport AuthProvider from './AuthProvider';\nimport createRefresh from './createRefresh';\nimport RequireAuth from './PrivateRoute';\nimport useSignIn from './hooks/useSignIn';\nimport useSignOut from './hooks/useSignOut';\nimport useAuthUser from './hooks/useAuthUser';\nimport useAuthHeader from './hooks/useAuthHeader';\nimport useIsAuthenticated from './hooks/useIsAuthenticated';\nimport withSignIn from './higherOrderComponents/withSignIn';\nimport withSignOut from './higherOrderComponents/withSignOut';\nimport withAuthUser from './higherOrderComponents/withAuthUser';\nimport withAuthHeader from './higherOrderComponents/withAuthHeader';\nimport withIsAuthenticated from './higherOrderComponents/withIsAuthenticated';\n\n// Default prop for AuthProvider\nAuthProvider.defaultProps = {\n  cookieDomain: window.location.hostname,\n  cookieSecure: window.location.protocol === 'https:',\n};\n\nexport {\n  AuthProvider,\n  RequireAuth,\n  createRefresh,\n  useSignIn,\n  useSignOut,\n  useAuthUser,\n  useAuthHeader,\n  useIsAuthenticated,\n  withSignIn,\n  withSignOut,\n  withAuthUser,\n  withAuthHeader,\n  withIsAuthenticated,\n};\n"],"names":[],"mappings":"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"}