{"ast":null,"code":"var _jsxFileName = \"/Users/tywayne/Desktop/reactdev/sms-frontend-final/src/components/login/Login.jsx\",\n  _s = $RefreshSig$();\nimport { useGlobalContext } from \"../../context\";\nimport EmailInput from \"../EmailInput\";\nimport PasswordInput from \"../PasswordInput\";\nimport Button from \"../Button\";\nimport { useNavigate } from \"react-router-dom\";\nimport React from \"react\";\nimport { useFormik } from \"formik\";\nimport { loginSchema } from \"../schemas\";\nimport axios from 'axios';\nimport { toast } from \"react-toastify\";\nimport \"./login.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const toastData = {};\n  const nagivate = useNavigate();\n  const {\n    USER_URL,\n    signIn,\n    postData\n  } = useGlobalContext();\n  const onSubmit = async values => {\n    const {\n      email,\n      password\n    } = values;\n    try {\n      const res = await axios.post(USER_URL, {\n        email,\n        password\n      }, postData);\n      const username = res.data.user._id;\n      if (signIn({\n        token: res.data.token,\n        expiresIn: 100,\n        authState: {\n          username\n        },\n        authType: 'Bearer'\n      })) {\n        if (res.data.success) {\n          toast.success(res.data.message, {\n            position: \"top-center\",\n            autoClose: 5000,\n            hideProgressBar: true,\n            closeOnClick: true,\n            pauseOnHover: false,\n            draggable: false,\n            progress: undefined,\n            theme: \"light\"\n          });\n          nagivate(\"/dashboard\");\n        }\n      }\n    } catch (error) {\n      toast.error(error.response.data.message);\n    }\n  };\n  const {\n    values,\n    handleBlur,\n    touched,\n    actions,\n    errors,\n    handleChange,\n    handleReset,\n    handleSubmit\n  } = useFormik({\n    initialValues: {\n      email: '',\n      password: ''\n    },\n    validationSchema: loginSchema,\n    onSubmit\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"bg-img\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loginContainer box pb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"title has-text-centered pt-2\",\n            children: \"Login - HMS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"form\",\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(EmailInput, {\n              type: \"email\",\n              placeholder: \"Username\",\n              className: \"user\",\n              value: values,\n              onChange: handleChange,\n              onBlur: handleBlur,\n              errors: errors,\n              touched: touched\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(PasswordInput, {\n              placeholder: \"Password\",\n              className: \"lock\",\n              value: values,\n              onChange: handleChange,\n              onBlur: handleBlur,\n              errors: errors,\n              touched: touched\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  color: \"info\",\n                  type: \"submit\",\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Login, \"x2Lcnt4E7vG+TXR+gnTE2cQQyIo=\", false, function () {\n  return [useNavigate, useGlobalContext, useFormik];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useGlobalContext","EmailInput","PasswordInput","Button","useNavigate","React","useFormik","loginSchema","axios","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","toastData","nagivate","USER_URL","signIn","postData","onSubmit","values","email","password","res","post","username","data","user","_id","token","expiresIn","authState","authType","success","message","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","error","response","handleBlur","touched","actions","errors","handleChange","handleReset","handleSubmit","initialValues","validationSchema","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","onBlur","color","_c","$RefreshReg$"],"sources":["/Users/tywayne/Desktop/reactdev/sms-frontend-final/src/components/login/Login.jsx"],"sourcesContent":["import { useGlobalContext } from \"../../context\"\nimport EmailInput from \"../EmailInput\"\nimport PasswordInput from \"../PasswordInput\"\nimport Button from \"../Button\"\nimport {useNavigate} from \"react-router-dom\"\nimport React from \"react\"\nimport {useFormik} from \"formik\"\nimport { loginSchema } from \"../schemas\"\nimport axios from 'axios'\nimport {toast} from \"react-toastify\"\nimport \"./login.css\"\n\nconst Login = ()=>{\n  const toastData = \n  {\n\n  }\nconst nagivate = useNavigate()\nconst {USER_URL,signIn,postData} = useGlobalContext()\n\n const onSubmit = async (values) => {\n  const {email,password} = values\n try {\n    const res = await axios.post(USER_URL,{email,password},postData)\n    const username = res.data.user._id\n   if(signIn({\n      token: res.data.token,\n      expiresIn: 100,\n      authState: {username},\n      authType: 'Bearer'\n      })){\n       if(res.data.success){\n        toast.success(res.data.message,{\n          position: \"top-center\",\n          autoClose: 5000,\n          hideProgressBar: true,\n          closeOnClick: true,\n          pauseOnHover: false,\n          draggable: false,\n          progress: undefined,\n          theme: \"light\",\n        })\n            nagivate(\"/dashboard\")\n          }\n        }\n } catch (error){\n    toast.error(error.response.data.message)\n }\n \n  \n  }\n\n const {values,handleBlur,touched,actions,errors,handleChange,handleReset,handleSubmit} = useFormik({\n    initialValues:{\n      email: '',\n      password: ''\n    },\n    validationSchema: loginSchema,\n    onSubmit,\n    })\n\n  return (\n    <>\n      <main className=\"bg-img\">\n        <div className=\"container\">\n            <div className=\"loginContainer box pb-6\">\n                <p className = \"title has-text-centered pt-2\">Login - HMS</p>\n                <form \n                className=\"form\" \n                onSubmit={handleSubmit}\n                >\n\n                  <EmailInput \n                  type = \"email\" \n                  placeholder = \"Username\" \n                  className=\"user\"\n                  value ={values}\n                  onChange={handleChange}\n                  onBlur = {handleBlur}\n                  errors = {errors}\n                  touched = {touched}\n                  \n                  />\n                  <PasswordInput \n                  placeholder = \"Password\" \n                  className=\"lock\"\n                  value = {values}\n                  onChange = {handleChange}\n                  onBlur = {handleBlur}\n                   errors = {errors}\n                  touched = {touched}\n                  \n                  />\n                    <div className=\"field\">\n                      <p className=\"control\">\n                        <Button color = \"info\" type=\"submit\">Login</Button>\n                        </p>\n                    </div>\n            \n                </form>\n              </div>\n          </div>\n      </main>\n    </>\n    \n\n\n  )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}