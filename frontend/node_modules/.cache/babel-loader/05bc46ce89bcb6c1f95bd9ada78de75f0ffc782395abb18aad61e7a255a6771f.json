{"ast":null,"code":"var _jsxFileName = \"/Users/tywayne/Desktop/reactdev/sms-frontend-final/src/components/login/Login.jsx\",\n  _s = $RefreshSig$();\nimport { useGlobalContext } from \"../../context\";\nimport EmailInput from \"../EmailInput\";\nimport PasswordInput from \"../PasswordInput\";\nimport Button from \"../Button\";\nimport { useNavigate } from \"react-router-dom\";\nimport React from \"react\";\nimport { useFormik } from \"formik\";\nimport { loginSchema } from \"../schemas\";\nimport { api } from './api';\nimport { toast } from \"react-toastify\";\nimport \"./login.css\";\n// import axios from \"axios\"\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const nagivate = useNavigate();\n  const {\n    USER_URL,\n    signIn,\n    postData,\n    toastData\n  } = useGlobalContext();\n  const onSubmit = async values => {\n    const {\n      email,\n      password\n    } = values;\n    try {\n      const res = await api.post({\n        email,\n        password\n      }, postData);\n      const username = res.data.user._id;\n      if (signIn({\n        token: res.data.token,\n        expiresIn: 100,\n        authState: {\n          username\n        },\n        authType: 'Bearer'\n      })) {\n        if (res.data.success) {\n          toast.success(res.data.message, toastData);\n          nagivate(\"/dashboard\");\n        }\n      }\n    } catch (error) {\n      // toast.error(error)\n      console.log(error);\n    }\n  };\n  const {\n    values,\n    handleBlur,\n    touched,\n    actions,\n    errors,\n    handleChange,\n    handleReset,\n    handleSubmit\n  } = useFormik({\n    initialValues: {\n      email: '',\n      password: ''\n    },\n    validationSchema: loginSchema,\n    onSubmit\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"bg-img\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loginContainer box pb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"title has-text-centered pt-2\",\n            children: \"Login - HMS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"form\",\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(EmailInput, {\n              type: \"email\",\n              placeholder: \"Username\",\n              className: \"user\",\n              value: values,\n              onChange: handleChange,\n              onBlur: handleBlur,\n              errors: errors,\n              touched: touched\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(PasswordInput, {\n              placeholder: \"Password\",\n              className: \"lock\",\n              value: values,\n              onChange: handleChange,\n              onBlur: handleBlur,\n              errors: errors,\n              touched: touched\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  color: \"info\",\n                  type: \"submit\",\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Login, \"rYjGYAfCqz/mK2qga6W5uNChclk=\", false, function () {\n  return [useNavigate, useGlobalContext, useFormik];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useGlobalContext","EmailInput","PasswordInput","Button","useNavigate","React","useFormik","loginSchema","api","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","nagivate","USER_URL","signIn","postData","toastData","onSubmit","values","email","password","res","post","username","data","user","_id","token","expiresIn","authState","authType","success","message","error","console","log","handleBlur","touched","actions","errors","handleChange","handleReset","handleSubmit","initialValues","validationSchema","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","onBlur","color","_c","$RefreshReg$"],"sources":["/Users/tywayne/Desktop/reactdev/sms-frontend-final/src/components/login/Login.jsx"],"sourcesContent":["import { useGlobalContext } from \"../../context\"\nimport EmailInput from \"../EmailInput\"\nimport PasswordInput from \"../PasswordInput\"\nimport Button from \"../Button\"\nimport {useNavigate} from \"react-router-dom\"\nimport React from \"react\"\nimport {useFormik} from \"formik\"\nimport { loginSchema } from \"../schemas\"\nimport {api} from './api'\nimport {toast} from \"react-toastify\"\nimport \"./login.css\"\n// import axios from \"axios\"\n\nconst Login = ()=>{\n \nconst nagivate = useNavigate()\nconst {USER_URL,signIn,postData,toastData} = useGlobalContext()\n\n const onSubmit = async (values) => {\n  const {email,password} = values\n try {\n    const res = await api.post({email,password},postData)\n    const username = res.data.user._id\n   if(signIn({\n      token: res.data.token,\n      expiresIn: 100,\n      authState: {username},\n      authType: 'Bearer'\n      })){\n       if(res.data.success){\n        toast.success(res.data.message,toastData)\n            nagivate(\"/dashboard\")\n          }\n        }\n } catch (error){\n    // toast.error(error)\n    console.log(error)\n }\n \n  \n  }\n\n const {values,handleBlur,touched,actions,errors,handleChange,handleReset,handleSubmit} = useFormik({\n    initialValues:{\n      email: '',\n      password: ''\n    },\n    validationSchema: loginSchema,\n    onSubmit,\n    })\n\n  return (\n    <>\n      <main className=\"bg-img\">\n        <div className=\"container\">\n            <div className=\"loginContainer box pb-6\">\n                <p className = \"title has-text-centered pt-2\">Login - HMS</p>\n                <form \n                className=\"form\" \n                onSubmit={handleSubmit}\n                >\n\n                  <EmailInput \n                  type = \"email\" \n                  placeholder = \"Username\" \n                  className=\"user\"\n                  value ={values}\n                  onChange={handleChange}\n                  onBlur = {handleBlur}\n                  errors = {errors}\n                  touched = {touched}\n                  \n                  />\n                  <PasswordInput \n                  placeholder = \"Password\" \n                  className=\"lock\"\n                  value = {values}\n                  onChange = {handleChange}\n                  onBlur = {handleBlur}\n                   errors = {errors}\n                  touched = {touched}\n                  \n                  />\n                    <div className=\"field\">\n                      <p className=\"control\">\n                        <Button color = \"info\" type=\"submit\">Login</Button>\n                        </p>\n                    </div>\n            \n                </form>\n              </div>\n          </div>\n      </main>\n    </>\n    \n\n\n  )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}