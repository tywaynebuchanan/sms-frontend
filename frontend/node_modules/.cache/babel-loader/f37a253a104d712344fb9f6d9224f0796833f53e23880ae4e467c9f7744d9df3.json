{"ast":null,"code":"var _jsxFileName = \"/Users/tywayne/Desktop/reactdev/sms-frontend/frontend/src/components/login/Login.jsx\",\n  _s = $RefreshSig$();\nimport { useGlobalContext } from \"../../context\";\nimport EmailInput from \"../EmailInput\";\nimport PasswordInput from \"../PasswordInput\";\nimport Button from \"../Button\";\nimport { useNavigate } from \"react-router-dom\";\nimport React, { Fragment } from \"react\";\nimport { useFormik } from \"formik\";\nimport { loginSchema } from \"../schemas\";\nimport { api } from './api';\nimport { toast } from \"react-toastify\";\nimport \"./login.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const nagivate = useNavigate();\n  const {\n    signIn,\n    toastData\n  } = useGlobalContext();\n  const onSubmit = async values => {\n    const {\n      email,\n      password\n    } = values;\n    try {\n      const res = await api.post(\"/login\", {\n        email,\n        password\n      });\n      const username = res.data.user._id;\n      if (signIn({\n        token: res.data.token,\n        expiresIn: 100,\n        authState: {\n          username\n        },\n        authType: 'Bearer'\n      })) {\n        if (res.data.success) {\n          toast.success(res.data.message, toastData);\n          nagivate(\"/dashboard\");\n        }\n      }\n    } catch (error) {\n      toast.error(error.response.data.message, toastData);\n      console.log(error.response.data.message);\n    }\n  };\n  const {\n    values,\n    handleBlur,\n    touched,\n    actions,\n    errors,\n    handleChange,\n    handleReset,\n    handleSubmit\n  } = useFormik({\n    initialValues: {\n      email: '',\n      password: ''\n    },\n    validationSchema: loginSchema,\n    onSubmit\n  });\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"bg-img\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loginContainer box pb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"title has-text-centered pt-2\",\n            children: \"Login - HMS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"form\",\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(EmailInput, {\n              type: \"email\",\n              placeholder: \"Username\",\n              className: \"user\",\n              value: values,\n              onChange: handleChange,\n              onBlur: handleBlur,\n              errors: errors,\n              touched: touched\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(PasswordInput, {\n              placeholder: \"Password\",\n              className: \"lock\",\n              value: values,\n              onChange: handleChange,\n              onBlur: handleBlur,\n              errors: errors,\n              touched: touched\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"field\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"control\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  color: \"info\",\n                  type: \"submit\",\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"Y0KP48Q1UCWb0wN3l5JZWpws/Io=\", false, function () {\n  return [useNavigate, useGlobalContext, useFormik];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useGlobalContext","EmailInput","PasswordInput","Button","useNavigate","React","Fragment","useFormik","loginSchema","api","toast","jsxDEV","_jsxDEV","Login","_s","nagivate","signIn","toastData","onSubmit","values","email","password","res","post","username","data","user","_id","token","expiresIn","authState","authType","success","message","error","response","console","log","handleBlur","touched","actions","errors","handleChange","handleReset","handleSubmit","initialValues","validationSchema","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","onBlur","color","_c","$RefreshReg$"],"sources":["/Users/tywayne/Desktop/reactdev/sms-frontend/frontend/src/components/login/Login.jsx"],"sourcesContent":["import { useGlobalContext } from \"../../context\"\nimport EmailInput from \"../EmailInput\"\nimport PasswordInput from \"../PasswordInput\"\nimport Button from \"../Button\"\nimport {useNavigate} from \"react-router-dom\"\nimport React, { Fragment } from \"react\"\nimport {useFormik} from \"formik\"\nimport { loginSchema } from \"../schemas\"\nimport {api} from './api'\nimport {toast} from \"react-toastify\"\nimport \"./login.css\"\n\nconst Login = ()=>{\n \nconst nagivate = useNavigate()\nconst {signIn,toastData} = useGlobalContext()\n\n const onSubmit = async (values) => {\n  const {email,password} = values\n try {\n    const res = await api.post(\"/login\",{email,password})\n    const username = res.data.user._id\n   if(signIn({\n      token: res.data.token,\n      expiresIn: 100,\n      authState: {username},\n      authType: 'Bearer'\n      })){\n       if(res.data.success){\n        toast.success(res.data.message,toastData)\n            nagivate(\"/dashboard\")\n          }\n        }\n } catch (error){\n    toast.error(error.response.data.message,toastData)\n    console.log(error.response.data.message)\n }\n \n  \n  }\n\n const {values,handleBlur,touched,actions,errors,handleChange,handleReset,handleSubmit} = useFormik({\n    initialValues:{\n      email: '',\n      password: ''\n    },\n    validationSchema: loginSchema,\n    onSubmit,\n    })\n\n  return (\n    <Fragment>\n      <main className=\"bg-img\">\n        <div className=\"container\">\n            <div className=\"loginContainer box pb-6\">\n                <p className = \"title has-text-centered pt-2\">Login - HMS</p>\n                <form \n                className=\"form\" \n                onSubmit={handleSubmit}\n                >\n\n                  <EmailInput \n                  type = \"email\" \n                  placeholder = \"Username\" \n                  className=\"user\"\n                  value ={values}\n                  onChange={handleChange}\n                  onBlur = {handleBlur}\n                  errors = {errors}\n                  touched = {touched}\n                  \n                  />\n                  <PasswordInput \n                  placeholder = \"Password\" \n                  className=\"lock\"\n                  value = {values}\n                  onChange = {handleChange}\n                  onBlur = {handleBlur}\n                   errors = {errors}\n                  touched = {touched}\n                  \n                  />\n                    <div className=\"field\">\n                      <p className=\"control\">\n                        <Button color = \"info\" type=\"submit\">Login</Button>\n                        </p>\n                    </div>\n            \n                </form>\n              </div>\n          </div>\n      </main>\n    </Fragment>\n    \n\n\n  )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}