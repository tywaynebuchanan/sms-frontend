{"ast":null,"code":"var _jsxFileName = \"/Users/tywayne/Desktop/reactdev/sms-frontend-final/src/context.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport React from \"react\";\nimport { useIsAuthenticated, useSignIn, useSignOut } from \"react-auth-kit\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppContext = /*#__PURE__*/createContext();\nconst AppProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const signIn = useSignIn();\n  const signOut = useSignOut();\n  const isAuthenicated = useIsAuthenticated();\n  const nagivate = useNavigate();\n  const [getdata, setData] = useState([]);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [smessages, setMessages] = useState(\"\");\n  const [active, setActive] = useState(false);\n  const [studentId, setStudentId] = useState(\"\");\n  const [firstname, setFirstName] = useState(\"\");\n  const [middlename, setMiddleName] = useState(\"\");\n  const [lastname, setLastName] = useState(\"\");\n  const [dob, onChange] = useState(new Date());\n  const [address, setAddress] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [roomNumber, setRoomNumber] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [text, setSearchText] = useState(\"\");\n  const errRef = useRef();\n  const USER_URL = \"https://myauthapivone.herokuapp.com/api/login\";\n  const ADD_STUDENT = \"https://myauthapivone.herokuapp.com/api/create-student\";\n  const STUDENT_DATA = \"https://myauthapivone.herokuapp.com/api/students\";\n  const Student = `https://myauthapivone.herokuapp.com/api/student/${search}.`;\n  useEffect(() => {\n    setError(\"\");\n  }, [email, password]);\n  const postData = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      \"Access-Controll-Allow-Origin\": \"*\"\n    }\n  };\n  const toastData = {\n    position: \"top-right\",\n    autoClose: 4000,\n    hideProgressBar: true,\n    closeOnClick: true,\n    pauseOnHover: false,\n    draggable: false,\n    progress: undefined,\n    theme: \"dark\"\n  };\n\n  //Get Student Data\n\n  const fetchData = async URL => {\n    setLoading(true);\n    try {\n      const data = await axios.get(URL);\n      if (data.data.student) {\n        setData(data.data.student);\n        console.log(data);\n      } else {\n        setData([]);\n      }\n    } catch (error) {\n      setError(error.response);\n    }\n    setLoading(false);\n  };\n  useEffect(() => {\n    if (!search) return;\n    fetchData(Student);\n    setMessages(\" There is no student by the name of  \" + search);\n  }, [search]);\n  const ResetData = () => {\n    fetchData(STUDENT_DATA);\n    setSearch(\"\");\n  };\n  const handleLogout = async () => {\n    signOut();\n    toast.success(\"You have been logged out\");\n    nagivate(\"/\");\n  };\n  const handleStudent = async e => {\n    e.preventDefault();\n    try {\n      const student = {\n        studentId,\n        roomNumber,\n        firstname,\n        lastname,\n        middlename,\n        dob,\n        address,\n        phone\n      };\n      const addStudent = await axios.post(ADD_STUDENT, JSON.stringify(student), postData);\n      console.log(addStudent);\n      if (addStudent.data.status.success = \"success\") {\n        nagivate(\"/dashboard\");\n      } else {\n        alert(\"Unable to add student\");\n      }\n    } catch (error) {\n      setError(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      toastData,\n      USER_URL,\n      signIn,\n      signOut,\n      postData,\n      ResetData,\n      fetchData,\n      Student,\n      text,\n      setSearchText,\n      setSearch,\n      search,\n      roomNumber,\n      setRoomNumber,\n      phone,\n      setPhone,\n      getdata,\n      setData,\n      setActive,\n      active,\n      setError,\n      error,\n      success,\n      email,\n      setEmail,\n      password,\n      setPassword,\n      setMessages,\n      smessages,\n      // handleLogin,\n      handleLogout,\n      errRef,\n      loading,\n      studentId,\n      firstname,\n      lastname,\n      middlename,\n      dob,\n      address,\n      setFirstName,\n      setLastName,\n      setAddress,\n      setMiddleName,\n      onChange,\n      setStudentId,\n      handleStudent,\n      fetchData,\n      STUDENT_DATA\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n};\n_s(AppProvider, \"kHZ9KM8Zw2+bXnkPZzDzGjlXDDs=\", false, function () {\n  return [useSignIn, useSignOut, useIsAuthenticated, useNavigate];\n});\n_c = AppProvider;\nexport const useGlobalContext = () => {\n  _s2();\n  return useContext(AppContext);\n};\n_s2(useGlobalContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport { AppContext, AppProvider };\nvar _c;\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["createContext","useContext","useState","useEffect","useRef","axios","React","useIsAuthenticated","useSignIn","useSignOut","useNavigate","toast","jsxDEV","_jsxDEV","AppContext","AppProvider","_ref","_s","children","signIn","signOut","isAuthenicated","nagivate","getdata","setData","email","setEmail","password","setPassword","error","setError","success","setSuccess","loading","setLoading","smessages","setMessages","active","setActive","studentId","setStudentId","firstname","setFirstName","middlename","setMiddleName","lastname","setLastName","dob","onChange","Date","address","setAddress","phone","setPhone","roomNumber","setRoomNumber","search","setSearch","text","setSearchText","errRef","USER_URL","ADD_STUDENT","STUDENT_DATA","Student","postData","headers","Accept","toastData","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","fetchData","URL","data","get","student","console","log","response","ResetData","handleLogout","handleStudent","e","preventDefault","addStudent","post","JSON","stringify","status","alert","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useGlobalContext","_s2","$RefreshReg$"],"sources":["/Users/tywayne/Desktop/reactdev/sms-frontend-final/src/context.js"],"sourcesContent":["import {createContext, useContext, useState, useEffect, useRef} from \"react\"\nimport axios from \"axios\"\nimport React from \"react\"\nimport { useIsAuthenticated, useSignIn, useSignOut } from \"react-auth-kit\"\nimport {useNavigate } from \"react-router-dom\"\nimport {toast} from \"react-toastify\"\n\nconst AppContext = createContext()\n\nconst AppProvider = ({children}) => {\n  \n  const signIn = useSignIn();\n  const signOut = useSignOut();\n const isAuthenicated = useIsAuthenticated();\n const nagivate = useNavigate();\n  const [getdata,setData] = useState([])\n  const [email, setEmail] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [error, setError] = useState(false)\n  const [success, setSuccess] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [smessages, setMessages] = useState(\"\")\n  const [active, setActive] = useState(false)\n  const [studentId, setStudentId] = useState(\"\")\n  const [firstname, setFirstName] = useState(\"\")\n  const [middlename, setMiddleName] = useState(\"\")\n  const [lastname, setLastName] = useState(\"\")\n  const [dob, onChange] = useState(new Date())\n  const [address, setAddress] = useState(\"\")\n  const [phone,setPhone] = useState(\"\")\n  const [roomNumber,setRoomNumber] = useState(\"\")\n  const [search,setSearch] = useState(\"\")\n  const [text,setSearchText] = useState(\"\")\n  const errRef = useRef()\n\n  const USER_URL = \"https://myauthapivone.herokuapp.com/api/login\"\n  const ADD_STUDENT = \"https://myauthapivone.herokuapp.com/api/create-student\"\n  const STUDENT_DATA = \"https://myauthapivone.herokuapp.com/api/students\"\n  const Student = `https://myauthapivone.herokuapp.com/api/student/${search}.`\n\n  useEffect(() => {\n    setError(\"\")\n  }, [email, password])\n\n  const postData = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Accept: \"application/json\",\n      \"Access-Controll-Allow-Origin\": \"*\",\n    },\n  }\n\n   const toastData = {\n    position: \"top-right\",\n          autoClose: 4000,\n          hideProgressBar: true,\n          closeOnClick: true,\n          pauseOnHover: false,\n          draggable: false,\n          progress: undefined,\n          theme: \"dark\",\n\n  }\n\n  //Get Student Data\n  \n    const fetchData = async(URL)=>{\n      setLoading(true)\n      try{\n      const data = await axios.get(URL)\n      if(data.data.student){\n        setData(data.data.student)\n        console.log(data)\n      }else{\n        setData([])\n      }\n      }catch(error){\n        setError(error.response)\n      }\n      setLoading(false)\n    }\n\n   \n    useEffect(() => {\n      if(!search) return\n      fetchData(Student)\n      setMessages(\" There is no student by the name of  \" + search)\n\n    },[search]);\n\n    const ResetData = () =>{\n        fetchData(STUDENT_DATA)\n        setSearch(\"\")\n     }\n\n  \n  const handleLogout = async () => {\n    signOut();\n    toast.success(\"You have been logged out\")\n    nagivate(\"/\")\n  }\n\n\n  const handleStudent = async(e) => {\n    e.preventDefault()\n    try {\n     \n      const student = {\n        studentId,\n        roomNumber,\n        firstname,\n        lastname,\n        middlename,\n        dob,\n        address,\n        phone\n      }\n      const addStudent = await axios.post(ADD_STUDENT, JSON.stringify(student), postData)\n      console.log(addStudent)\n      if(addStudent.data.status.success = \"success\"){\n        nagivate(\"/dashboard\")\n      }else{\n        alert(\"Unable to add student\")\n      } \n    } catch (error) {\n      setError(error)\n    }\n  }\n  return (\n    <AppContext.Provider\n      value={{\n        toastData,\n        USER_URL,\n        signIn,\n        signOut,\n        postData,\n        ResetData,\n        fetchData,\n        Student,\n        text,\n        setSearchText,\n        setSearch,\n        search,\n        roomNumber,\n        setRoomNumber,\n        phone,\n        setPhone,\n        getdata,\n        setData,\n        setActive,\n        active,\n        setError,\n        error,\n        success,\n        email,\n        setEmail,\n        password,\n        setPassword,\n        setMessages,\n        smessages,\n        // handleLogin,\n        handleLogout,\n        errRef,\n        loading,\n        studentId,\n        firstname,\n        lastname,\n        middlename,\n        dob,\n        address,\n        setFirstName,\n        setLastName,\n        setAddress,\n        setMiddleName,\n        onChange,\n        setStudentId,\n        handleStudent,\n        fetchData,\n        STUDENT_DATA,\n        \n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  )\n}\nexport const useGlobalContext = () => {\n  return useContext(AppContext)\n}\nexport {AppContext, AppProvider}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}